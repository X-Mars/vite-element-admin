import{g as Pt}from"../@amap/@amap.99378080.js";function S(t){return t.split("-")[0]}function _(t){return t.split("-")[1]}function j(t){return["top","bottom"].includes(S(t))?"x":"y"}function nt(t){return t==="y"?"height":"width"}function st(t,e,n){let{reference:i,floating:o}=t;const s=i.x+i.width/2-o.width/2,r=i.y+i.height/2-o.height/2,c=j(e),f=nt(c),u=i[f]/2-o[f]/2,h=S(e),l=c==="x";let a;switch(h){case"top":a={x:s,y:i.y-o.height};break;case"bottom":a={x:s,y:i.y+i.height};break;case"right":a={x:i.x+i.width,y:r};break;case"left":a={x:i.x-o.width,y:r};break;default:a={x:i.x,y:i.y}}switch(_(e)){case"start":a[c]-=u*(n&&l?-1:1);break;case"end":a[c]+=u*(n&&l?-1:1);break}return a}const Ct=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,c=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:h}=st(f,i,c),l=i,a={},d=0;for(let g=0;g<s.length;g++){const{name:m,fn:p}=s[g],{x:w,y:x,data:v,reset:y}=await p({x:u,y:h,initialPlacement:i,placement:l,strategy:o,middlewareData:a,rects:f,platform:r,elements:{reference:t,floating:e}});if(u=w!=null?w:u,h=x!=null?x:h,a={...a,[m]:{...a[m],...v}},y&&d<=50){d++,typeof y=="object"&&(y.placement&&(l=y.placement),y.rects&&(f=y.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):y.rects),{x:u,y:h}=st(f,l,c)),g=-1;continue}}return{x:u,y:h,placement:l,strategy:o,middlewareData:a}};function Lt(t){return{top:0,right:0,bottom:0,left:0,...t}}function ot(t){return typeof t!="number"?Lt(t):{top:t,right:t,bottom:t,left:t}}function U(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function z(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:c,strategy:f}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:l="floating",altBoundary:a=!1,padding:d=0}=e,g=ot(d),p=c[a?l==="floating"?"reference":"floating":l],w=U(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(p)))==null||n?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:h,strategy:f})),x=U(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:l==="floating"?{...r.floating,x:i,y:o}:r.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),strategy:f}):r[l]);return{top:w.top-x.top+g.top,bottom:x.bottom-w.bottom+g.bottom,left:w.left-x.left+g.left,right:x.right-w.right+g.right}}const dt=Math.min,W=Math.max;function Z(t,e,n){return W(t,dt(e,n))}const Tt=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:i=0}=t!=null?t:{},{x:o,y:s,placement:r,rects:c,platform:f}=e;if(n==null)return{};const u=ot(i),h={x:o,y:s},l=j(r),a=_(r),d=nt(l),g=await f.getDimensions(n),m=l==="y"?"top":"left",p=l==="y"?"bottom":"right",w=c.reference[d]+c.reference[l]-h[l]-c.floating[d],x=h[l]-c.reference[l],v=await(f.getOffsetParent==null?void 0:f.getOffsetParent(n));let y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0;y===0&&(y=c.floating[d]);const b=w/2-x/2,R=u[m],O=y-g[d]-u[p],P=y/2-g[d]/2+b,C=Z(R,P,O),T=(a==="start"?u[m]:u[p])>0&&P!==C&&c.reference[d]<=c.floating[d]?P<R?R-P:O-P:0;return{[l]:h[l]-T,data:{[l]:C,centerOffset:P-C}}}}),St={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,e=>St[e])}function mt(t,e,n){n===void 0&&(n=!1);const i=_(t),o=j(t),s=nt(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=G(r)),{main:r,cross:G(r)}}const Et={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,e=>Et[e])}const ht=["top","right","bottom","left"],Dt=ht.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Vt(t,e,n){return(t?[...n.filter(o=>_(o)===t),...n.filter(o=>_(o)!==t)]:n.filter(o=>S(o)===o)).filter(o=>t?_(o)===t||(e?tt(o)!==o:!1):!0)}const kt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o,s,r;const{x:c,y:f,rects:u,middlewareData:h,placement:l,platform:a,elements:d}=e,{alignment:g=null,allowedPlacements:m=Dt,autoAlignment:p=!0,...w}=t,x=Vt(g,p,m),v=await z(e,w),y=(n=(i=h.autoPlacement)==null?void 0:i.index)!=null?n:0,b=x[y];if(b==null)return{};const{main:R,cross:O}=mt(b,u,await(a.isRTL==null?void 0:a.isRTL(d.floating)));if(l!==b)return{x:c,y:f,reset:{placement:x[0]}};const P=[v[S(b)],v[R],v[O]],C=[...(o=(s=h.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:b,overflows:P}],E=x[y+1];if(E)return{data:{index:y+1,overflows:C},reset:{placement:E}};const A=C.slice().sort((L,N)=>L.overflows[0]-N.overflows[0]),T=(r=A.find(L=>{let{overflows:N}=L;return N.every(X=>X<=0)}))==null?void 0:r.placement,D=T!=null?T:A[0].placement;return D!==l?{data:{index:y+1,overflows:C},reset:{placement:D}}:{}}}};function Mt(t){const e=G(t);return[tt(t),e,tt(e)]}const Ht=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:i,middlewareData:o,rects:s,initialPlacement:r,platform:c,elements:f}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:l,fallbackStrategy:a="bestFit",flipAlignment:d=!0,...g}=t,m=S(i),w=l||(m===r||!d?[G(r)]:Mt(r)),x=[r,...w],v=await z(e,g),y=[];let b=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&y.push(v[m]),h){const{main:C,cross:E}=mt(i,s,await(c.isRTL==null?void 0:c.isRTL(f.floating)));y.push(v[C],v[E])}if(b=[...b,{placement:i,overflows:y}],!y.every(C=>C<=0)){var R,O;const C=((R=(O=o.flip)==null?void 0:O.index)!=null?R:0)+1,E=x[C];if(E)return{data:{index:C,overflows:b},reset:{placement:E}};let A="bottom";switch(a){case"bestFit":{var P;const T=(P=b.map(D=>[D,D.overflows.filter(L=>L>0).reduce((L,N)=>L+N,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:P[0].placement;T&&(A=T);break}case"initialPlacement":A=r;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function rt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ct(t){return ht.some(e=>t[e]>=0)}const Bt=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(i){const{rects:o}=i;switch(e){case"referenceHidden":{const s=await z(i,{...n,elementContext:"reference"}),r=rt(s,o.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:ct(r)}}}case"escaped":{const s=await z(i,{...n,altBoundary:!0}),r=rt(s,o.floating);return{data:{escapedOffsets:r,escaped:ct(r)}}}default:return{}}}}};async function Nt(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=S(n),c=_(n),f=j(n)==="x",u=["left","top"].includes(r)?-1:1,h=s&&f?-1:1,l=typeof e=="function"?e(t):e;let{mainAxis:a,crossAxis:d,alignmentAxis:g}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return c&&typeof g=="number"&&(d=c==="end"?g*-1:g),f?{x:d*h,y:a*u}:{x:a*u,y:d*h}}const Wt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i}=e,o=await Nt(e,t);return{x:n+o.x,y:i+o.y,data:o}}}};function gt(t){return t==="x"?"y":"x"}const _t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:p=>{let{x:w,y:x}=p;return{x:w,y:x}}},...f}=t,u={x:n,y:i},h=await z(e,f),l=j(S(o)),a=gt(l);let d=u[l],g=u[a];if(s){const p=l==="y"?"top":"left",w=l==="y"?"bottom":"right",x=d+h[p],v=d-h[w];d=Z(x,d,v)}if(r){const p=a==="y"?"top":"left",w=a==="y"?"bottom":"right",x=g+h[p],v=g-h[w];g=Z(x,g,v)}const m=c.fn({...e,[l]:d,[a]:g});return{...m,data:{x:m.x-n,y:m.y-i}}}}},$t=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:s,middlewareData:r}=e,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=t,h={x:n,y:i},l=j(o),a=gt(l);let d=h[l],g=h[a];const m=typeof c=="function"?c(e):c,p=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(f){const b=l==="y"?"height":"width",R=s.reference[l]-s.floating[b]+p.mainAxis,O=s.reference[l]+s.reference[b]-p.mainAxis;d<R?d=R:d>O&&(d=O)}if(u){var w,x,v,y;const b=l==="y"?"width":"height",R=["top","left"].includes(S(o)),O=s.reference[a]-s.floating[b]+(R&&(w=(x=r.offset)==null?void 0:x[a])!=null?w:0)+(R?0:p.crossAxis),P=s.reference[a]+s.reference[b]+(R?0:(v=(y=r.offset)==null?void 0:y[a])!=null?v:0)-(R?p.crossAxis:0);g<O?g=O:g>P&&(g=P)}return{[l]:d,[a]:g}}}},Ft=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:o,elements:s}=e,{apply:r=()=>{},...c}=t,f=await z(e,c),u=S(n),h=_(n);let l,a;u==="top"||u==="bottom"?(l=u,a=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(a=u,l=h==="end"?"top":"bottom");const d=W(f.left,0),g=W(f.right,0),m=W(f.top,0),p=W(f.bottom,0),w={availableHeight:i.floating.height-(["left","right"].includes(n)?2*(m!==0||p!==0?m+p:W(f.top,f.bottom)):f[l]),availableWidth:i.floating.width-(["top","bottom"].includes(n)?2*(d!==0||g!==0?d+g:W(f.left,f.right)):f[a])};await r({...e,...w});const x=await o.getDimensions(s.floating);return i.floating.width!==x.width||i.floating.height!==x.height?{reset:{rects:!0}}:{}}}},zt=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:i,elements:o,rects:s,platform:r,strategy:c}=e,{padding:f=2,x:u,y:h}=t,l=U(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),strategy:c}):s.reference),a=(n=await(r.getClientRects==null?void 0:r.getClientRects(o.reference)))!=null?n:[],d=ot(f);function g(){if(a.length===2&&a[0].left>a[1].right&&u!=null&&h!=null){var p;return(p=a.find(w=>u>w.left-d.left&&u<w.right+d.right&&h>w.top-d.top&&h<w.bottom+d.bottom))!=null?p:l}if(a.length>=2){if(j(i)==="x"){const A=a[0],T=a[a.length-1],D=S(i)==="top",L=A.top,N=T.bottom,X=D?A.left:T.left,it=D?A.right:T.right,At=it-X,Ot=N-L;return{top:L,bottom:N,left:X,right:it,width:At,height:Ot,x:X,y:L}}const w=S(i)==="left",x=W(...a.map(A=>A.right)),v=dt(...a.map(A=>A.left)),y=a.filter(A=>w?A.left===v:A.right===x),b=y[0].top,R=y[y.length-1].bottom,O=v,P=x,C=P-O,E=R-b;return{top:b,bottom:R,left:O,right:P,width:C,height:E,x:O,y:b}}return l}const m=await r.getElementRects({reference:{getBoundingClientRect:g},floating:o.floating,strategy:c});return s.reference.x!==m.reference.x||s.reference.y!==m.reference.y||s.reference.width!==m.reference.width||s.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};function pt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function B(t){if(t==null)return window;if(!pt(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function V(t){return B(t).getComputedStyle(t)}function M(t){return pt(t)?"":t?(t.nodeName||"").toLowerCase():""}function wt(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function k(t){return t instanceof B(t).HTMLElement}function $(t){return t instanceof B(t).Element}function jt(t){return t instanceof B(t).Node}function I(t){if(typeof ShadowRoot>"u")return!1;const e=B(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function K(t){const{overflow:e,overflowX:n,overflowY:i}=V(t);return/auto|scroll|overlay|hidden/.test(e+i+n)}function It(t){return["table","td","th"].includes(M(t))}function xt(t){const e=/firefox/i.test(wt()),n=V(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function yt(){return!/^((?!chrome|android).)*safari/i.test(wt())}const lt=Math.min,Y=Math.max,J=Math.round;function H(t,e,n){var i,o,s,r;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect();let f=1,u=1;e&&k(t)&&(f=t.offsetWidth>0&&J(c.width)/t.offsetWidth||1,u=t.offsetHeight>0&&J(c.height)/t.offsetHeight||1);const h=$(t)?B(t):window,l=!yt()&&n,a=(c.left+(l&&(i=(o=h.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/f,d=(c.top+(l&&(s=(r=h.visualViewport)==null?void 0:r.offsetTop)!=null?s:0))/u,g=c.width/f,m=c.height/u;return{width:g,height:m,top:d,right:a+g,bottom:d+m,left:a,x:a,y:d}}function F(t){return((jt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Q(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vt(t){return H(F(t)).left+Q(t).scrollLeft}function Xt(t){const e=H(t);return J(e.width)!==t.offsetWidth||J(e.height)!==t.offsetHeight}function Yt(t,e,n){const i=k(e),o=F(e),s=H(t,i&&Xt(e),n==="fixed");let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(i||!i&&n!=="fixed")if((M(e)!=="body"||K(o))&&(r=Q(e)),k(e)){const f=H(e,!0);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else o&&(c.x=vt(o));return{x:s.left+r.scrollLeft-c.x,y:s.top+r.scrollTop-c.y,width:s.width,height:s.height}}function bt(t){return M(t)==="html"?t:t.assignedSlot||t.parentNode||(I(t)?t.host:null)||F(t)}function ft(t){return!k(t)||V(t).position==="fixed"?null:Ut(t)}function Ut(t){let{offsetParent:e}=t,n=t,i=!1;for(;n&&n!==e;){const{assignedSlot:o}=n;if(o){let s=o.offsetParent;if(V(o).display==="contents"){const r=o.hasAttribute("style"),c=o.style.display;o.style.display=V(n).display,s=o.offsetParent,o.style.display=c,r||o.removeAttribute("style")}n=o,e!==s&&(e=s,i=!0)}else if(I(n)&&n.host&&i)break;n=I(n)&&n.host||n.parentNode}return e}function qt(t){let e=bt(t);for(I(e)&&(e=e.host);k(e)&&!["html","body"].includes(M(e));){if(xt(e))return e;{const n=e.parentNode;e=I(n)?n.host:n}}return null}function et(t){const e=B(t);let n=ft(t);for(;n&&It(n)&&V(n).position==="static";)n=ft(n);return n&&(M(n)==="html"||M(n)==="body"&&V(n).position==="static"&&!xt(n))?e:n||qt(t)||e}function at(t){if(k(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=H(t);return{width:e.width,height:e.height}}function Gt(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=k(n),s=F(n);if(n===s)return e;let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&i!=="fixed")&&((M(n)!=="body"||K(s))&&(r=Q(n)),k(n))){const f=H(n,!0);c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{...e,x:e.x-r.scrollLeft+c.x,y:e.y-r.scrollTop+c.y}}function Jt(t,e){const n=B(t),i=F(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,c=0,f=0;if(o){s=o.width,r=o.height;const u=yt();(u||!u&&e==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:s,height:r,x:c,y:f}}function Kt(t){var e;const n=F(t),i=Q(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=Y(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=Y(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-i.scrollLeft+vt(t);const f=-i.scrollTop;return V(o||n).direction==="rtl"&&(c+=Y(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:c,y:f}}function Rt(t){const e=bt(t);return["html","body","#document"].includes(M(e))?t.ownerDocument.body:k(e)&&K(e)?e:Rt(e)}function q(t,e){var n;e===void 0&&(e=[]);const i=Rt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=B(i),r=o?[s].concat(s.visualViewport||[],K(i)?i:[]):i,c=e.concat(r);return o?c:c.concat(q(r))}function Qt(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&I(n)){let i=e;do{if(i&&t===i)return!0;i=i.parentNode||i.host}while(i)}return!1}function Zt(t,e){const n=H(t,!1,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:i,left:o,x:o,y:i,right:o+t.clientWidth,bottom:i+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function ut(t,e,n){return e==="viewport"?U(Jt(t,n)):$(e)?Zt(e,n):U(Kt(F(t)))}function te(t){const e=q(t),i=["absolute","fixed"].includes(V(t).position)&&k(t)?et(t):t;return $(i)?e.filter(o=>$(o)&&Qt(o,i)&&M(o)!=="body"):[]}function ee(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?te(e):[].concat(n),i],c=r[0],f=r.reduce((u,h)=>{const l=ut(e,h,o);return u.top=Y(l.top,u.top),u.right=lt(l.right,u.right),u.bottom=lt(l.bottom,u.bottom),u.left=Y(l.left,u.left),u},ut(e,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}const ne={getClippingRect:ee,convertOffsetParentRelativeRectToViewportRelativeRect:Gt,isElement:$,getDimensions:at,getOffsetParent:et,getDocumentElement:F,getElementRects:t=>{let{reference:e,floating:n,strategy:i}=t;return{reference:Yt(e,et(n),i),floating:{...at(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>V(t).direction==="rtl"};function oe(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=!0,animationFrame:c=!1}=i,f=o&&!c,u=s&&!c,h=f||u?[...$(t)?q(t):[],...q(e)]:[];h.forEach(m=>{f&&m.addEventListener("scroll",n,{passive:!0}),u&&m.addEventListener("resize",n)});let l=null;if(r){let m=!0;l=new ResizeObserver(()=>{m||n(),m=!1}),$(t)&&!c&&l.observe(t),l.observe(e)}let a,d=c?H(t):null;c&&g();function g(){const m=H(t);d&&(m.x!==d.x||m.y!==d.y||m.width!==d.width||m.height!==d.height)&&n(),d=m,a=requestAnimationFrame(g)}return n(),()=>{var m;h.forEach(p=>{f&&p.removeEventListener("scroll",n),u&&p.removeEventListener("resize",n)}),(m=l)==null||m.disconnect(),l=null,c&&cancelAnimationFrame(a)}}const ie=(t,e,n)=>Ct(t,e,{platform:ne,...n}),se=Object.freeze(Object.defineProperty({__proto__:null,autoUpdate:oe,computePosition:ie,getOverflowAncestors:q,arrow:Tt,autoPlacement:kt,detectOverflow:z,flip:Ht,hide:Bt,inline:zt,limitShift:$t,offset:Wt,shift:_t,size:Ft},Symbol.toStringTag,{value:"Module"})),ce=Pt(se);export{Tt as a,ie as c,Wt as o,ce as r};
