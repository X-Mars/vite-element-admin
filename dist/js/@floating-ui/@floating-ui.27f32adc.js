import{g as Tt}from"../@amap/@amap.39c0400f.js";function E(t){return t.split("-")[0]}function F(t){return t.split("-")[1]}function N(t){return["top","bottom"].includes(E(t))?"x":"y"}function ot(t){return t==="y"?"height":"width"}function lt(t,e,n){let{reference:o,floating:c}=t;const i=o.x+o.width/2-c.width/2,s=o.y+o.height/2-c.height/2,r=N(e),a=ot(r),u=o[a]/2-c[a]/2,h=r==="x";let l;switch(E(e)){case"top":l={x:i,y:o.y-c.height};break;case"bottom":l={x:i,y:o.y+o.height};break;case"right":l={x:o.x+o.width,y:s};break;case"left":l={x:o.x-c.width,y:s};break;default:l={x:o.x,y:o.y}}switch(F(e)){case"start":l[r]-=u*(n&&h?-1:1);break;case"end":l[r]+=u*(n&&h?-1:1)}return l}const Lt=async(t,e,n)=>{const{placement:o="bottom",strategy:c="absolute",middleware:i=[],platform:s}=n,r=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:c}),{x:h,y:l}=lt(u,o,a),d=o,f={},m=0;for(let p=0;p<r.length;p++){const{name:g,fn:v}=r[p],{x:y,y:b,data:A,reset:w}=await v({x:h,y:l,initialPlacement:o,placement:d,strategy:c,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});h=y??h,l=b??l,f={...f,[g]:{...f[g],...A}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:c}):w.rects),{x:h,y:l}=lt(u,d,a)),p=-1)}return{x:h,y:l,placement:d,strategy:c,middlewareData:f}};function it(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function I(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function j(t,e){var n;e===void 0&&(e={});const{x:o,y:c,platform:i,rects:s,elements:r,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:l="floating",altBoundary:d=!1,padding:f=0}=e,m=it(f),p=r[d?l==="floating"?"reference":"floating":l],g=I(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(p)))==null||n?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(r.floating)),boundary:u,rootBoundary:h,strategy:a})),v=I(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:l==="floating"?{...s.floating,x:o,y:c}:s.reference,offsetParent:await(i.getOffsetParent==null?void 0:i.getOffsetParent(r.floating)),strategy:a}):s[l]);return{top:g.top-v.top+m.top,bottom:v.bottom-g.bottom+m.bottom,left:g.left-v.left+m.left,right:v.right-g.right+m.right}}const ht=Math.min,z=Math.max;function tt(t,e,n){return z(t,ht(e,n))}const Pt=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=t??{},{x:c,y:i,placement:s,rects:r,platform:a}=e;if(n==null)return{};const u=it(o),h={x:c,y:i},l=N(s),d=F(s),f=ot(l),m=await a.getDimensions(n),p=l==="y"?"top":"left",g=l==="y"?"bottom":"right",v=r.reference[f]+r.reference[l]-h[l]-r.floating[f],y=h[l]-r.reference[l],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(n));let A=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0;A===0&&(A=r.floating[f]);const w=v/2-y/2,x=u[p],L=A-m[f]-u[g],R=A/2-m[f]/2+w,T=tt(x,R,L),P=(d==="start"?u[p]:u[g])>0&&R!==T&&r.reference[f]<=r.floating[f];return{[l]:h[l]-(P?R<x?x-R:L-R:0),data:{[l]:T,centerOffset:R-T}}}}),$t={left:"right",right:"left",bottom:"top",top:"bottom"};function J(t){return t.replace(/left|right|bottom|top/g,e=>$t[e])}function gt(t,e,n){n===void 0&&(n=!1);const o=F(t),c=N(t),i=ot(c);let s=c==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=J(s)),{main:s,cross:J(s)}}const Et={start:"end",end:"start"};function et(t){return t.replace(/start|end/g,e=>Et[e])}const pt=["top","right","bottom","left"],Ot=pt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),Dt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,c,i,s;const{x:r,y:a,rects:u,middlewareData:h,placement:l,platform:d,elements:f}=e,{alignment:m=null,allowedPlacements:p=Ot,autoAlignment:g=!0,...v}=t,y=function($,U,X){return($?[...X.filter(D=>F(D)===$),...X.filter(D=>F(D)!==$)]:X.filter(D=>E(D)===D)).filter(D=>!$||F(D)===$||!!U&&et(D)!==D)}(m,g,p),b=await j(e,v),A=(n=(o=h.autoPlacement)==null?void 0:o.index)!=null?n:0,w=y[A];if(w==null)return{};const{main:x,cross:L}=gt(w,u,await(d.isRTL==null?void 0:d.isRTL(f.floating)));if(l!==w)return{x:r,y:a,reset:{placement:y[0]}};const R=[b[E(w)],b[x],b[L]],T=[...(c=(i=h.autoPlacement)==null?void 0:i.overflows)!=null?c:[],{placement:w,overflows:R}],P=y[A+1];if(P)return{data:{index:A+1,overflows:T},reset:{placement:P}};const H=T.slice().sort(($,U)=>$.overflows[0]-U.overflows[0]),O=(s=H.find($=>{let{overflows:U}=$;return U.every(X=>X<=0)}))==null?void 0:s.placement,S=O??H[0].placement;return S!==l?{data:{index:A+1,overflows:T},reset:{placement:S}}:{}}}},Ht=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:c,rects:i,initialPlacement:s,platform:r,elements:a}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:l,fallbackStrategy:d="bestFit",flipAlignment:f=!0,...m}=t,p=E(o),g=l||(p===s||!f?[J(s)]:function(R){const T=J(R);return[et(R),T,et(T)]}(s)),v=[s,...g],y=await j(e,m),b=[];let A=((n=c.flip)==null?void 0:n.overflows)||[];if(u&&b.push(y[p]),h){const{main:R,cross:T}=gt(o,i,await(r.isRTL==null?void 0:r.isRTL(a.floating)));b.push(y[R],y[T])}if(A=[...A,{placement:o,overflows:b}],!b.every(R=>R<=0)){var w,x;const R=((w=(x=c.flip)==null?void 0:x.index)!=null?w:0)+1,T=v[R];if(T)return{data:{index:R,overflows:A},reset:{placement:T}};let P="bottom";switch(d){case"bestFit":{var L;const H=(L=A.map(O=>[O,O.overflows.filter(S=>S>0).reduce((S,$)=>S+$,0)]).sort((O,S)=>O[1]-S[1])[0])==null?void 0:L[0].placement;H&&(P=H);break}case"initialPlacement":P=s}if(o!==P)return{reset:{placement:P}}}return{}}}};function ct(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function st(t){return pt.some(e=>t[e]>=0)}const Wt=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(o){const{rects:c}=o;switch(e){case"referenceHidden":{const i=ct(await j(o,{...n,elementContext:"reference"}),c.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:st(i)}}}case"escaped":{const i=ct(await j(o,{...n,altBoundary:!0}),c.floating);return{data:{escapedOffsets:i,escaped:st(i)}}}default:return{}}}}},Ct=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,c=await async function(i,s){const{placement:r,platform:a,elements:u}=i,h=await(a.isRTL==null?void 0:a.isRTL(u.floating)),l=E(r),d=F(r),f=N(r)==="x",m=["left","top"].includes(l)?-1:1,p=h&&f?-1:1,g=typeof s=="function"?s(i):s;let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return d&&typeof b=="number"&&(y=d==="end"?-1*b:b),f?{x:y*p,y:v*m}:{x:v*m,y:y*p}}(e,t);return{x:n+c.x,y:o+c.y,data:c}}}};function yt(t){return t==="x"?"y":"x"}const kt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:c}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:r={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...a}=t,u={x:n,y:o},h=await j(e,a),l=N(E(c)),d=yt(l);let f=u[l],m=u[d];if(i){const g=l==="y"?"bottom":"right";f=tt(f+h[l==="y"?"top":"left"],f,f-h[g])}if(s){const g=d==="y"?"bottom":"right";m=tt(m+h[d==="y"?"top":"left"],m,m-h[g])}const p=r.fn({...e,[l]:f,[d]:m});return{...p,data:{x:p.x-n,y:p.y-o}}}}},Bt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:c,rects:i,middlewareData:s}=e,{offset:r=0,mainAxis:a=!0,crossAxis:u=!0}=t,h={x:n,y:o},l=N(c),d=yt(l);let f=h[l],m=h[d];const p=typeof r=="function"?r(e):r,g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(a){const w=l==="y"?"height":"width",x=i.reference[l]-i.floating[w]+g.mainAxis,L=i.reference[l]+i.reference[w]-g.mainAxis;f<x?f=x:f>L&&(f=L)}if(u){var v,y,b,A;const w=l==="y"?"width":"height",x=["top","left"].includes(E(c)),L=i.reference[d]-i.floating[w]+(x&&(v=(y=s.offset)==null?void 0:y[d])!=null?v:0)+(x?0:g.crossAxis),R=i.reference[d]+i.reference[w]+(x?0:(b=(A=s.offset)==null?void 0:A[d])!=null?b:0)-(x?g.crossAxis:0);m<L?m=L:m>R&&(m=R)}return{[l]:f,[d]:m}}}},Vt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:c,elements:i}=e,{apply:s=()=>{},...r}=t,a=await j(e,r),u=E(n),h=F(n);let l,d;u==="top"||u==="bottom"?(l=u,d=h===(await(c.isRTL==null?void 0:c.isRTL(i.floating))?"start":"end")?"left":"right"):(d=u,l=h==="end"?"top":"bottom");const f=z(a.left,0),m=z(a.right,0),p=z(a.top,0),g=z(a.bottom,0),v={availableHeight:o.floating.height-(["left","right"].includes(n)?2*(p!==0||g!==0?p+g:z(a.top,a.bottom)):a[l]),availableWidth:o.floating.width-(["top","bottom"].includes(n)?2*(f!==0||m!==0?f+m:z(a.left,a.right)):a[d])};await s({...e,...v});const y=await c.getDimensions(i.floating);return o.floating.width!==y.width||o.floating.height!==y.height?{reset:{rects:!0}}:{}}}},St=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:o,elements:c,rects:i,platform:s,strategy:r}=e,{padding:a=2,x:u,y:h}=t,l=I(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:i.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),strategy:r}):i.reference),d=(n=await(s.getClientRects==null?void 0:s.getClientRects(c.reference)))!=null?n:[],f=it(a),m=await s.getElementRects({reference:{getBoundingClientRect:function(){var p;if(d.length===2&&d[0].left>d[1].right&&u!=null&&h!=null)return(p=d.find(g=>u>g.left-f.left&&u<g.right+f.right&&h>g.top-f.top&&h<g.bottom+f.bottom))!=null?p:l;if(d.length>=2){if(N(o)==="x"){const x=d[0],L=d[d.length-1],R=E(o)==="top",T=x.top,P=L.bottom,H=R?x.left:L.left,O=R?x.right:L.right;return{top:T,bottom:P,left:H,right:O,width:O-H,height:P-T,x:H,y:T}}const g=E(o)==="left",v=z(...d.map(x=>x.right)),y=ht(...d.map(x=>x.left)),b=d.filter(x=>g?x.left===y:x.right===v),A=b[0].top,w=b[b.length-1].bottom;return{top:A,bottom:w,left:y,right:v,width:v-y,height:w-A,x:y,y:A}}return l}},floating:c.floating,strategy:r});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};function wt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function V(t){if(t==null)return window;if(!wt(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function W(t){return V(t).getComputedStyle(t)}function _(t){return wt(t)?"":t?(t.nodeName||"").toLowerCase():""}function xt(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function C(t){return t instanceof V(t).HTMLElement}function k(t){return t instanceof V(t).Element}function at(t){return typeof ShadowRoot>"u"?!1:t instanceof V(t).ShadowRoot||t instanceof ShadowRoot}function Q(t){const{overflow:e,overflowX:n,overflowY:o,display:c}=W(t);return/auto|scroll|overlay|hidden/.test(e+o+n)&&!["inline","contents"].includes(c)}function zt(t){return["table","td","th"].includes(_(t))}function nt(t){const e=/firefox/i.test(xt()),n=W(t),o=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!o&&o!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(c=>n.willChange.includes(c))||["paint","layout","strict","content"].some(c=>{const i=n.contain;return i!=null&&i.includes(c)})}function vt(){return!/^((?!chrome|android).)*safari/i.test(xt())}function rt(t){return["html","body","#document"].includes(_(t))}const ft=Math.min,Y=Math.max,K=Math.round;function B(t,e,n){var o,c,i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect();let a=1,u=1;e&&C(t)&&(a=t.offsetWidth>0&&K(r.width)/t.offsetWidth||1,u=t.offsetHeight>0&&K(r.height)/t.offsetHeight||1);const h=k(t)?V(t):window,l=!vt()&&n,d=(r.left+(l&&(o=(c=h.visualViewport)==null?void 0:c.offsetLeft)!=null?o:0))/a,f=(r.top+(l&&(i=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?i:0))/u,m=r.width/a,p=r.height/u;return{width:m,height:p,top:f,right:d+m,bottom:f+p,left:d,x:d,y:f}}function M(t){return(e=t,(e instanceof V(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function Z(t){return k(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bt(t){return B(M(t)).left+Z(t).scrollLeft}function Ft(t,e,n){const o=C(e),c=M(e),i=B(t,o&&function(a){const u=B(a);return K(u.width)!==a.offsetWidth||K(u.height)!==a.offsetHeight}(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if(o||!o&&n!=="fixed")if((_(e)!=="body"||Q(c))&&(s=Z(e)),C(e)){const a=B(e,!0);r.x=a.x+e.clientLeft,r.y=a.y+e.clientTop}else c&&(r.x=bt(c));return{x:i.left+s.scrollLeft-r.x,y:i.top+s.scrollTop-r.y,width:i.width,height:i.height}}function G(t){if(_(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(at(t)?t.host:null)||M(t);return at(e)?e.host:e}function ut(t){return C(t)&&W(t).position!=="fixed"?t.offsetParent:null}function dt(t){const e=V(t);let n=ut(t);for(;n&&zt(n)&&W(n).position==="static";)n=ut(n);return n&&(_(n)==="html"||_(n)==="body"&&W(n).position==="static"&&!nt(n))?e:n||function(o){let c=G(o);for(;C(c)&&!rt(c);){if(nt(c))return c;c=G(c)}return null}(t)||e}function Rt(t){const e=G(t);return rt(e)?t.ownerDocument.body:C(e)&&Q(e)?e:Rt(e)}function q(t,e){var n;e===void 0&&(e=[]);const o=Rt(t),c=o===((n=t.ownerDocument)==null?void 0:n.body),i=V(o),s=c?[i].concat(i.visualViewport||[],Q(o)?o:[]):o,r=e.concat(s);return c?r:r.concat(q(s))}function mt(t,e,n){return e==="viewport"?I(function(o,c){const i=V(o),s=M(o),r=i.visualViewport;let a=s.clientWidth,u=s.clientHeight,h=0,l=0;if(r){a=r.width,u=r.height;const d=vt();(d||!d&&c==="fixed")&&(h=r.offsetLeft,l=r.offsetTop)}return{width:a,height:u,x:h,y:l}}(t,n)):k(e)?function(o,c){const i=B(o,!1,c==="fixed"),s=i.top+o.clientTop,r=i.left+o.clientLeft;return{top:s,left:r,x:r,y:s,right:r+o.clientWidth,bottom:s+o.clientHeight,width:o.clientWidth,height:o.clientHeight}}(e,n):I(function(o){var c;const i=M(o),s=Z(o),r=(c=o.ownerDocument)==null?void 0:c.body,a=Y(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Y(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let h=-s.scrollLeft+bt(o);const l=-s.scrollTop;return W(r||i).direction==="rtl"&&(h+=Y(i.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:h,y:l}}(M(t)))}const At={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:c}=t;const i=n==="clippingAncestors"?function(u){let h=q(u).filter(m=>k(m)&&_(m)!=="body"),l=null;const d=W(u).position==="fixed";let f=d?G(u):u;for(;k(f)&&!rt(f);){const m=W(f),p=nt(f);(d?p||l:p||m.position!=="static"||!l||!["absolute","fixed"].includes(l.position))?l=m:h=h.filter(g=>g!==f),f=G(f)}return h}(e):[].concat(n),s=[...i,o],r=s[0],a=s.reduce((u,h)=>{const l=mt(e,h,c);return u.top=Y(l.top,u.top),u.right=ft(l.right,u.right),u.bottom=ft(l.bottom,u.bottom),u.left=Y(l.left,u.left),u},mt(e,r,c));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const c=C(n),i=M(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if((c||!c&&o!=="fixed")&&((_(n)!=="body"||Q(i))&&(s=Z(n)),C(n))){const a=B(n,!0);r.x=a.x+n.clientLeft,r.y=a.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+r.x,y:e.y-s.scrollTop+r.y}},isElement:k,getDimensions:function(t){if(C(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=B(t);return{width:e.width,height:e.height}},getOffsetParent:dt,getDocumentElement:M,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const c=this.getOffsetParent||dt,i=this.getDimensions;return{reference:Ft(e,await c(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>W(t).direction==="rtl"};function Mt(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:r=!1}=o,a=c&&!r,u=a||i?[...k(t)?q(t):t.contextElement?q(t.contextElement):[],...q(e)]:[];u.forEach(f=>{a&&f.addEventListener("scroll",n,{passive:!0}),i&&f.addEventListener("resize",n)});let h,l=null;if(s){let f=!0;l=new ResizeObserver(()=>{f||n(),f=!1}),k(t)&&!r&&l.observe(t),k(t)||!t.contextElement||r||l.observe(t.contextElement),l.observe(e)}let d=r?B(t):null;return r&&function f(){const m=B(t);!d||m.x===d.x&&m.y===d.y&&m.width===d.width&&m.height===d.height||n(),d=m,h=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(m=>{a&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),(f=l)==null||f.disconnect(),l=null,r&&cancelAnimationFrame(h)}}const _t=(t,e,n)=>Lt(t,e,{platform:At,...n}),jt=Object.freeze(Object.defineProperty({__proto__:null,arrow:Pt,autoPlacement:Dt,autoUpdate:Mt,computePosition:_t,detectOverflow:j,flip:Ht,getOverflowAncestors:q,hide:Wt,inline:St,limitShift:Bt,offset:Ct,platform:At,shift:kt,size:Vt},Symbol.toStringTag,{value:"Module"})),qt=Tt(jt);export{_t as O,Ct as T,Pt as m,qt as r};
