import{g as Ct}from"../@amap/@amap.99378080.js";function S(t){return t.split("-")[0]}function N(t){return t.split("-")[1]}function z(t){return["top","bottom"].includes(S(t))?"x":"y"}function et(t){return t==="y"?"height":"width"}function rt(t,e,n){let{reference:i,floating:o}=t;const s=i.x+i.width/2-o.width/2,r=i.y+i.height/2-o.height/2,c=z(e),a=et(c),u=i[a]/2-o[a]/2,g=S(e),l=c==="x";let f;switch(g){case"top":f={x:s,y:i.y-o.height};break;case"bottom":f={x:s,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:r};break;case"left":f={x:i.x-o.width,y:r};break;default:f={x:i.x,y:i.y}}switch(N(e)){case"start":f[c]-=u*(n&&l?-1:1);break;case"end":f[c]+=u*(n&&l?-1:1);break}return f}const Lt=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,c=s.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let u=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y:l}=rt(u,i,a),f=i,m={},d=0;for(let h=0;h<c.length;h++){const{name:y,fn:p}=c[h],{x:w,y:v,data:b,reset:x}=await p({x:g,y:l,initialPlacement:i,placement:f,strategy:o,middlewareData:m,rects:u,platform:r,elements:{reference:t,floating:e}});if(g=w!=null?w:g,l=v!=null?v:l,m={...m,[y]:{...m[y],...b}},x&&d<=50){d++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):x.rects),{x:g,y:l}=rt(u,f,a)),h=-1;continue}}return{x:g,y:l,placement:f,strategy:o,middlewareData:m}};function Tt(t){return{top:0,right:0,bottom:0,left:0,...t}}function nt(t){return typeof t!="number"?Tt(t):{top:t,right:t,bottom:t,left:t}}function U(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function j(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:c,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:l="floating",altBoundary:f=!1,padding:m=0}=e,d=nt(m),y=c[f?l==="floating"?"reference":"floating":l],p=U(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:g,strategy:a})),w=U(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:l==="floating"?{...r.floating,x:i,y:o}:r.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),strategy:a}):r[l]);return{top:p.top-w.top+d.top,bottom:w.bottom-p.bottom+d.bottom,left:p.left-w.left+d.left,right:w.right-p.right+d.right}}const gt=Math.min,F=Math.max;function Z(t,e,n){return F(t,gt(e,n))}const St=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:i=0}=t!=null?t:{},{x:o,y:s,placement:r,rects:c,platform:a}=e;if(n==null)return{};const u=nt(i),g={x:o,y:s},l=z(r),f=N(r),m=et(l),d=await a.getDimensions(n),h=l==="y"?"top":"left",y=l==="y"?"bottom":"right",p=c.reference[m]+c.reference[l]-g[l]-c.floating[m],w=g[l]-c.reference[l],v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(n));let b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0;b===0&&(b=c.floating[m]);const x=p/2-w/2,R=u[h],O=b-d[m]-u[y],P=b/2-d[m]/2+x,C=Z(R,P,O),T=(f==="start"?u[h]:u[y])>0&&P!==C&&c.reference[m]<=c.floating[m]?P<R?R-P:O-P:0;return{[l]:g[l]-T,data:{[l]:C,centerOffset:P-C}}}}),Et={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,e=>Et[e])}function ht(t,e,n){n===void 0&&(n=!1);const i=N(t),o=z(t),s=et(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=G(r)),{main:r,cross:G(r)}}const Dt={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,e=>Dt[e])}const pt=["top","right","bottom","left"],kt=pt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Mt(t,e,n){return(t?[...n.filter(o=>N(o)===t),...n.filter(o=>N(o)!==t)]:n.filter(o=>S(o)===o)).filter(o=>t?N(o)===t||(e?tt(o)!==o:!1):!0)}const Vt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o,s,r;const{x:c,y:a,rects:u,middlewareData:g,placement:l,platform:f,elements:m}=e,{alignment:d=null,allowedPlacements:h=kt,autoAlignment:y=!0,...p}=t,w=Mt(d,y,h),v=await j(e,p),b=(n=(i=g.autoPlacement)==null?void 0:i.index)!=null?n:0,x=w[b];if(x==null)return{};const{main:R,cross:O}=ht(x,u,await(f.isRTL==null?void 0:f.isRTL(m.floating)));if(l!==x)return{x:c,y:a,reset:{placement:w[0]}};const P=[v[S(x)],v[R],v[O]],C=[...(o=(s=g.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:x,overflows:P}],E=w[b+1];if(E)return{data:{index:b+1,overflows:C},reset:{placement:E}};const A=C.slice().sort((L,W)=>L.overflows[0]-W.overflows[0]),T=(r=A.find(L=>{let{overflows:W}=L;return W.every(X=>X<=0)}))==null?void 0:r.placement,D=T!=null?T:A[0].placement;return D!==l?{data:{index:b+1,overflows:C},reset:{placement:D}}:{}}}};function Bt(t){const e=G(t);return[tt(t),e,tt(e)]}const Ht=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:i,middlewareData:o,rects:s,initialPlacement:r,platform:c,elements:a}=e,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:l,fallbackStrategy:f="bestFit",flipAlignment:m=!0,...d}=t,h=S(i),p=l||(h===r||!m?[G(r)]:Bt(r)),w=[r,...p],v=await j(e,d),b=[];let x=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&b.push(v[h]),g){const{main:C,cross:E}=ht(i,s,await(c.isRTL==null?void 0:c.isRTL(a.floating)));b.push(v[C],v[E])}if(x=[...x,{placement:i,overflows:b}],!b.every(C=>C<=0)){var R,O;const C=((R=(O=o.flip)==null?void 0:O.index)!=null?R:0)+1,E=w[C];if(E)return{data:{index:C,overflows:x},reset:{placement:E}};let A="bottom";switch(f){case"bestFit":{var P;const T=(P=x.map(D=>[D,D.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:P[0].placement;T&&(A=T);break}case"initialPlacement":A=r;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function ct(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lt(t){return pt.some(e=>t[e]>=0)}const Wt=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(i){const{rects:o}=i;switch(e){case"referenceHidden":{const s=await j(i,{...n,elementContext:"reference"}),r=ct(s,o.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:lt(r)}}}case"escaped":{const s=await j(i,{...n,altBoundary:!0}),r=ct(s,o.floating);return{data:{escapedOffsets:r,escaped:lt(r)}}}default:return{}}}}};async function Ft(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=S(n),c=N(n),a=z(n)==="x",u=["left","top"].includes(r)?-1:1,g=s&&a?-1:1,l=typeof e=="function"?e(t):e;let{mainAxis:f,crossAxis:m,alignmentAxis:d}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return c&&typeof d=="number"&&(m=c==="end"?d*-1:d),a?{x:m*g,y:f*u}:{x:f*u,y:m*g}}const Nt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i}=e,o=await Ft(e,t);return{x:n+o.x,y:i+o.y,data:o}}}};function wt(t){return t==="x"?"y":"x"}const _t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:y=>{let{x:p,y:w}=y;return{x:p,y:w}}},...a}=t,u={x:n,y:i},g=await j(e,a),l=z(S(o)),f=wt(l);let m=u[l],d=u[f];if(s){const y=l==="y"?"top":"left",p=l==="y"?"bottom":"right",w=m+g[y],v=m-g[p];m=Z(w,m,v)}if(r){const y=f==="y"?"top":"left",p=f==="y"?"bottom":"right",w=d+g[y],v=d-g[p];d=Z(w,d,v)}const h=c.fn({...e,[l]:m,[f]:d});return{...h,data:{x:h.x-n,y:h.y-i}}}}},$t=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:s,middlewareData:r}=e,{offset:c=0,mainAxis:a=!0,crossAxis:u=!0}=t,g={x:n,y:i},l=z(o),f=wt(l);let m=g[l],d=g[f];const h=typeof c=="function"?c(e):c,y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(a){const x=l==="y"?"height":"width",R=s.reference[l]-s.floating[x]+y.mainAxis,O=s.reference[l]+s.reference[x]-y.mainAxis;m<R?m=R:m>O&&(m=O)}if(u){var p,w,v,b;const x=l==="y"?"width":"height",R=["top","left"].includes(S(o)),O=s.reference[f]-s.floating[x]+(R&&(p=(w=r.offset)==null?void 0:w[f])!=null?p:0)+(R?0:y.crossAxis),P=s.reference[f]+s.reference[x]+(R?0:(v=(b=r.offset)==null?void 0:b[f])!=null?v:0)-(R?y.crossAxis:0);d<O?d=O:d>P&&(d=P)}return{[l]:m,[f]:d}}}},jt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:o,elements:s}=e,{apply:r=()=>{},...c}=t,a=await j(e,c),u=S(n),g=N(n);let l,f;u==="top"||u==="bottom"?(l=u,f=g===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(f=u,l=g==="end"?"top":"bottom");const m=F(a.left,0),d=F(a.right,0),h=F(a.top,0),y=F(a.bottom,0),p={availableHeight:i.floating.height-(["left","right"].includes(n)?2*(h!==0||y!==0?h+y:F(a.top,a.bottom)):a[l]),availableWidth:i.floating.width-(["top","bottom"].includes(n)?2*(m!==0||d!==0?m+d:F(a.left,a.right)):a[f])};await r({...e,...p});const w=await o.getDimensions(s.floating);return i.floating.width!==w.width||i.floating.height!==w.height?{reset:{rects:!0}}:{}}}},zt=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:i,elements:o,rects:s,platform:r,strategy:c}=e,{padding:a=2,x:u,y:g}=t,l=U(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),strategy:c}):s.reference),f=(n=await(r.getClientRects==null?void 0:r.getClientRects(o.reference)))!=null?n:[],m=nt(a);function d(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&g!=null){var y;return(y=f.find(p=>u>p.left-m.left&&u<p.right+m.right&&g>p.top-m.top&&g<p.bottom+m.bottom))!=null?y:l}if(f.length>=2){if(z(i)==="x"){const A=f[0],T=f[f.length-1],D=S(i)==="top",L=A.top,W=T.bottom,X=D?A.left:T.left,st=D?A.right:T.right,Ot=st-X,Pt=W-L;return{top:L,bottom:W,left:X,right:st,width:Ot,height:Pt,x:X,y:L}}const p=S(i)==="left",w=F(...f.map(A=>A.right)),v=gt(...f.map(A=>A.left)),b=f.filter(A=>p?A.left===v:A.right===w),x=b[0].top,R=b[b.length-1].bottom,O=v,P=w,C=P-O,E=R-x;return{top:x,bottom:R,left:O,right:P,width:C,height:E,x:O,y:x}}return l}const h=await r.getElementRects({reference:{getBoundingClientRect:d},floating:o.floating,strategy:c});return s.reference.x!==h.reference.x||s.reference.y!==h.reference.y||s.reference.width!==h.reference.width||s.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}};function xt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function H(t){if(t==null)return window;if(!xt(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function M(t){return H(t).getComputedStyle(t)}function _(t){return xt(t)?"":t?(t.nodeName||"").toLowerCase():""}function yt(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function V(t){return t instanceof H(t).HTMLElement}function k(t){return t instanceof H(t).Element}function It(t){return t instanceof H(t).Node}function at(t){if(typeof ShadowRoot>"u")return!1;const e=H(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function K(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=M(t);return/auto|scroll|overlay|hidden/.test(e+i+n)&&!["inline","contents"].includes(o)}function Xt(t){return["table","td","th"].includes(_(t))}function ot(t){const e=/firefox/i.test(yt()),n=M(t),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(i?i!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const s=n.contain;return s!=null?s.includes(o):!1})}function vt(){return!/^((?!chrome|android).)*safari/i.test(yt())}function it(t){return["html","body","#document"].includes(_(t))}const ft=Math.min,Y=Math.max,J=Math.round;function B(t,e,n){var i,o,s,r;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect();let a=1,u=1;e&&V(t)&&(a=t.offsetWidth>0&&J(c.width)/t.offsetWidth||1,u=t.offsetHeight>0&&J(c.height)/t.offsetHeight||1);const g=k(t)?H(t):window,l=!vt()&&n,f=(c.left+(l&&(i=(o=g.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/a,m=(c.top+(l&&(s=(r=g.visualViewport)==null?void 0:r.offsetTop)!=null?s:0))/u,d=c.width/a,h=c.height/u;return{width:d,height:h,top:m,right:f+d,bottom:m+h,left:f,x:f,y:m}}function $(t){return((It(t)?t.ownerDocument:t.document)||window.document).documentElement}function Q(t){return k(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bt(t){return B($(t)).left+Q(t).scrollLeft}function Yt(t){const e=B(t);return J(e.width)!==t.offsetWidth||J(e.height)!==t.offsetHeight}function Ut(t,e,n){const i=V(e),o=$(e),s=B(t,i&&Yt(e),n==="fixed");let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(i||!i&&n!=="fixed")if((_(e)!=="body"||K(o))&&(r=Q(e)),V(e)){const a=B(e,!0);c.x=a.x+e.clientLeft,c.y=a.y+e.clientTop}else o&&(c.x=bt(o));return{x:s.left+r.scrollLeft-c.x,y:s.top+r.scrollTop-c.y,width:s.width,height:s.height}}function q(t){if(_(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(at(t)?t.host:null)||$(t);return at(e)?e.host:e}function ut(t){return!V(t)||M(t).position==="fixed"?null:t.offsetParent}function qt(t){let e=q(t);for(;V(e)&&!it(e);){if(ot(e))return e;e=q(e)}return null}function dt(t){const e=H(t);let n=ut(t);for(;n&&Xt(n)&&M(n).position==="static";)n=ut(n);return n&&(_(n)==="html"||_(n)==="body"&&M(n).position==="static"&&!ot(n))?e:n||qt(t)||e}function Gt(t){if(V(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=B(t);return{width:e.width,height:e.height}}function Jt(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=V(n),s=$(n);if(n===s)return e;let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&i!=="fixed")&&((_(n)!=="body"||K(s))&&(r=Q(n)),V(n))){const a=B(n,!0);c.x=a.x+n.clientLeft,c.y=a.y+n.clientTop}return{...e,x:e.x-r.scrollLeft+c.x,y:e.y-r.scrollTop+c.y}}function Kt(t,e){const n=H(t),i=$(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,c=0,a=0;if(o){s=o.width,r=o.height;const u=vt();(u||!u&&e==="fixed")&&(c=o.offsetLeft,a=o.offsetTop)}return{width:s,height:r,x:c,y:a}}function Qt(t){var e;const n=$(t),i=Q(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=Y(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=Y(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-i.scrollLeft+bt(t);const a=-i.scrollTop;return M(o||n).direction==="rtl"&&(c+=Y(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:c,y:a}}function Rt(t){const e=q(t);return it(e)?t.ownerDocument.body:V(e)&&K(e)?e:Rt(e)}function I(t,e){var n;e===void 0&&(e=[]);const i=Rt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=H(i),r=o?[s].concat(s.visualViewport||[],K(i)?i:[]):i,c=e.concat(r);return o?c:c.concat(I(r))}function Zt(t,e){const n=B(t,!1,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:i,left:o,x:o,y:i,right:o+t.clientWidth,bottom:i+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function mt(t,e,n){return e==="viewport"?U(Kt(t,n)):k(e)?Zt(e,n):U(Qt($(t)))}function te(t){let e=I(t).filter(s=>k(s)&&_(s)!=="body"),n=null;const i=M(t).position==="fixed";let o=i?q(t):t;for(;k(o)&&!it(o);){const s=M(o),r=ot(o);(i?!r&&!n:!r&&s.position==="static"&&!!n&&["absolute","fixed"].includes(n.position))?e=e.filter(a=>a!==o):n=s,o=q(o)}return e}function ee(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?te(e):[].concat(n),i],c=r[0],a=r.reduce((u,g)=>{const l=mt(e,g,o);return u.top=Y(l.top,u.top),u.right=ft(l.right,u.right),u.bottom=ft(l.bottom,u.bottom),u.left=Y(l.left,u.left),u},mt(e,c,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}const At={getClippingRect:ee,convertOffsetParentRelativeRectToViewportRelativeRect:Jt,isElement:k,getDimensions:Gt,getOffsetParent:dt,getDocumentElement:$,async getElementRects(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||dt,s=this.getDimensions;return{reference:Ut(e,await o(n),i),floating:{x:0,y:0,...await s(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>M(t).direction==="rtl"};function ne(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=!0,animationFrame:c=!1}=i,a=o&&!c,u=a||s?[...k(t)?I(t):t.contextElement?I(t.contextElement):[],...I(e)]:[];u.forEach(d=>{a&&d.addEventListener("scroll",n,{passive:!0}),s&&d.addEventListener("resize",n)});let g=null;if(r){let d=!0;g=new ResizeObserver(()=>{d||n(),d=!1}),k(t)&&!c&&g.observe(t),!k(t)&&t.contextElement&&!c&&g.observe(t.contextElement),g.observe(e)}let l,f=c?B(t):null;c&&m();function m(){const d=B(t);f&&(d.x!==f.x||d.y!==f.y||d.width!==f.width||d.height!==f.height)&&n(),f=d,l=requestAnimationFrame(m)}return n(),()=>{var d;u.forEach(h=>{a&&h.removeEventListener("scroll",n),s&&h.removeEventListener("resize",n)}),(d=g)==null||d.disconnect(),g=null,c&&cancelAnimationFrame(l)}}const oe=(t,e,n)=>Lt(t,e,{platform:At,...n}),ie=Object.freeze(Object.defineProperty({__proto__:null,autoUpdate:ne,computePosition:oe,getOverflowAncestors:I,platform:At,arrow:St,autoPlacement:Vt,detectOverflow:j,flip:Ht,hide:Wt,inline:zt,limitShift:$t,offset:Nt,shift:_t,size:jt},Symbol.toStringTag,{value:"Module"})),re=Ct(ie);export{St as a,oe as c,Nt as o,re as r};
