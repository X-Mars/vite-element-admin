import{u as B,d as D,_ as E}from"../../assets/index-3cbbf7e2.js";import{e as I}from"../index/index.d9b96878.js";import{a as N}from"../vue-router/vue-router.fc3768a4.js";import{T as R}from"../index/index.85754e2f.js";import{E as O}from"../element-plus/element-plus.6baf754a.js";import{h as x,p as M,m as p,c as y,a as t,a4 as n,a2 as l,Z as c,a3 as r,_,a1 as C,$ as U,u as k,F as j,al as m,an as F,bc as L,ba as W,o as s}from"../@vue/@vue.bfa18c0b.js";import"../pinia/pinia.e886b05f.js";import"../js-cookie/js-cookie.cf83ad76.js";import"../axios/axios.144d64ba.js";import"../form-data/form-data.d2a9677b.js";import"../geotiff/geotiff.31f9d28a.js";import"../path-to-regexp/path-to-regexp.36ea9d8d.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.188d1ff8.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.294a1884.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../lodash-es/lodash-es.5134c8bf.js";import"../@element-plus/@element-plus.b501a0e2.js";import"../@amap/@amap.39c0400f.js";import"../@vueuse/@vueuse.af00d1b7.js";import"../qs/qs.0b9b56d9.js";import"../side-channel/side-channel.436aebc0.js";import"../get-intrinsic/get-intrinsic.c22bc727.js";import"../has-symbols/has-symbols.e8f3ca0e.js";import"../function-bind/function-bind.22e7ee79.js";import"../has/has.de2ce4c3.js";import"../call-bind/call-bind.deeb90eb.js";import"../object-inspect/object-inspect.65a2a1b2.js";import"../nprogress/nprogress.d4529c63.js";/* empty css                                 */import"../clipboard/clipboard.a49fd553.js";import"../xe-utils/xe-utils.ae8f073f.js";import"../vxe-table/vxe-table.e0aa4c39.js";import"../vue3-lottie/vue3-lottie.0bad4d94.js";import"../lottie-web/lottie-web.f16ff010.js";import"../vite-plugin-mock/vite-plugin-mock.f2e75bf1.js";import"../mockjs/mockjs.21d1b872.js";import"../@popperjs/@popperjs.4b6c69cf.js";import"../@ctrl/@ctrl.5c843f8a.js";import"../dayjs/dayjs.c6f15c19.js";import"../async-validator/async-validator.acfb96ca.js";import"../memoize-one/memoize-one.0376b3d0.js";import"../escape-html/escape-html.1d60d822.js";import"../normalize-wheel-es/normalize-wheel-es.4ffea87d.js";import"../@floating-ui/@floating-ui.27f32adc.js";import"../vue/vue.a70161ca.js";import"../lodash-unified/lodash-unified.80ea3563.js";const A=f=>(L("data-v-7524df5d"),f=f(),W(),f),Z={class:"account-container flex-row flex-level-center"},q={class:"center-box"},z={class:"flex-row"},G={class:"card purple"},J={class:"flex-row flex-vertical-center"},Q={class:"circle"},X={class:"tips-info flex-column flex-vertical-center"},Y={class:"f1"},tt={class:"f2"},et={class:"card orange"},st={class:"flex-row flex-vertical-center"},ot={class:"circle"},it={class:"tips-info flex-column flex-vertical-center"},nt={class:"f1"},at={class:"f2"},ct={class:"card green"},lt={class:"flex-row flex-vertical-center"},rt={class:"circle"},dt={class:"tips-info flex-column flex-vertical-center"},_t={class:"f1"},pt={class:"f2"},mt={class:"card blue"},ft={class:"flex-row flex-vertical-center"},vt={class:"circle"},ut={class:"tips-info flex-column flex-vertical-center"},ht={class:"f1"},yt={class:"f2"},gt={class:"card-section"},xt={class:"login-title flex-row flex-between flex-vertical-center"},kt=A(()=>t("span",{class:"title"},"登录历史",-1)),wt={style:{cursor:"pointer"}},bt=A(()=>t("div",{class:"card-section",style:{height:"330px"}},null,-1)),Ct={class:"avatar-box flex-column flex-level-center flex-vertical-center"},At={class:"user-name ellipsis"},Tt={class:"phone"},St={key:0},$t={key:1},Ht=j({name:"UserCenter"}),Kt=Object.assign(Ht,{setup(f){const w=N(),g=x(!1),a=B(),T={0:"未知",1:"密码登录",2:"验证码登录",3:"第三方登录"},e=M({avatar:p(()=>a.avatar),name:p(()=>a.name),phone:p(()=>a.phone),email:p(()=>a.email),identity:p(()=>a.identity),isPerfect:p(()=>a.avatar&&a.name&&a.phone&&a.email&&a.identity)}),S=x([{key:"method",title:"登录方式",dataKey:"method",align:"center",width:106,cellRenderer:({rowData:d})=>n("div",null,[T[d.method]])},{key:"deviceType",title:"设备名称",dataKey:"deviceType",align:"center",width:231},{key:"deviceOs",title:"系统",dataKey:"deviceOs",align:"center",width:110},{key:"loginAddr",title:"登录地点",dataKey:"loginAddr",align:"center",width:231},{key:"loginTime",title:"最后登录时间",dataKey:"loginTime",align:"center",width:231}]),b=x([]);(async()=>{g.value=!0;try{const{code:d,data:o}=await D();d==200&&(b.value=o)}catch{}finally{g.value=!1}})();const v=async d=>{if(d!=2){O({message:"此组件还未开发",type:"warning"});return}w.push("/user/attestation")};return(d,o)=>{const i=m("svg-icon"),u=m("el-button"),$=m("el-tooltip"),H=m("ArrowRight"),K=m("el-icon"),P=m("el-table-v2"),V=F("loading");return s(),y("div",Z,[t("div",q,[t("div",z,[t("div",G,[t("div",J,[t("div",Q,[n(i,{"icon-class":"phone_1",class:"icon"})]),t("div",X,[t("div",Y,[l(" 绑定手机 "),e.phone?(s(),c(i,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),c(i,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",tt,r(e.phone?"已绑定手机":"未绑定，请尽快绑定"),1)])]),n(u,{class:"btn",type:"info",onClick:o[0]||(o[0]=h=>v(1))},{default:_(()=>[l(r(e.phone?"更换手机":"去绑定"),1)]),_:1})]),t("div",et,[t("div",st,[t("div",ot,[n(i,{"icon-class":"safe",class:"icon"})]),t("div",it,[t("div",nt,[l(" 实名认证 "),e.identity?(s(),c(i,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),c(i,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",at,r(e.identity?"已实名认证":"请尽快完成实名认证"),1)])]),e.identity?C("",!0):(s(),c(u,{key:0,class:"btn",type:"info",onClick:o[1]||(o[1]=h=>v(2))},{default:_(()=>[l("去认证")]),_:1}))]),t("div",ct,[t("div",lt,[t("div",rt,[n(i,{"icon-class":"msg_1",class:"icon"})]),t("div",dt,[t("div",_t,[l(" 绑定邮箱 "),e.phone?(s(),c(i,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),c(i,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",pt,r(e.email?"已绑定邮箱":"未绑定，请尽快绑定"),1)])]),n(u,{class:"btn",type:"info",onClick:o[2]||(o[2]=h=>v(3))},{default:_(()=>[l(r(e.email?"更换邮箱":"去绑定"),1)]),_:1})]),t("div",mt,[t("div",ft,[t("div",vt,[n(i,{"icon-class":"text",class:"icon"})]),t("div",ut,[t("div",ht,[l(" 个人信息 "),e.isPerfect?(s(),c(i,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),c(i,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",yt,r(e.isPerfect?"个人信息已完善":"个人信息未完善"),1)])]),e.isPerfect?C("",!0):(s(),c(u,{key:0,class:"btn",type:"info",onClick:o[3]||(o[3]=h=>v(4))},{default:_(()=>[l("去完善")]),_:1}))])]),U((s(),y("div",gt,[t("div",xt,[n($,{class:"box-item",effect:"dark",content:"此处模拟了10W条数据",placement:"top-start"},{default:_(()=>[kt]),_:1}),t("p",wt,[t("span",{class:"right-tips",onClick:o[4]||(o[4]=h=>k(w).push("/user/history"))},"查看更多"),n(K,{color:"#1890ff"},{default:_(()=>[n(H)]),_:1})])]),n(P,{class:"login-history-table",columns:S.value,data:b.value,width:910,height:210,fixed:!1},null,8,["columns","data"])])),[[V,g.value]]),bt]),t("div",Ct,[n(k(R),{width:"150px",height:"150px",image:e.avatar},{default:_(()=>[l("Vite Element Admin Admin Admin Admin")]),_:1},8,["image"]),t("span",At," Hi,"+r(e.name||"小灰灰"),1),t("span",Tt,[e.phone?(s(),y("span",St,r(k(I)(e.phone)),1)):(s(),y("span",$t," 你还未绑定手机 "))])])])}}});const Se=E(Kt,[["__scopeId","data-v-7524df5d"]]);export{Se as default};
