var e=(e,a,t)=>new Promise(((o,n)=>{var s=e=>{try{c(t.next(e))}catch(a){n(a)}},l=e=>{try{c(t.throw(e))}catch(a){n(a)}},c=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,l);c((t=t.apply(e,a)).next())}));import{S as a,W as t,l as o,i as n}from"./index.c825baab.js";import{p as s,g as l,o as c,c as i,a as r,w as d,h as p,M as u,r as g,t as m,d as h,u as v,j as f,b as y,v as w,e as x,a0 as b,C,q as I,B as V,D as A}from"./vendor.de15a04e.js";const q={name:"Logo",setup:()=>({logo:"data:image/png;base64,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"})},K=d();s("data-v-79733efa");const Q={class:"logo-contanier"};l();const k=K(((e,a,t,o,n,s)=>(c(),i("div",Q,[r("img",{src:o.logo,alt:""},null,8,["src"])]))));q.render=k,q.__scopeId="data-v-79733efa";const M={name:"YuCopyright",components:{SvgIcon:a},setup(){let e=p(2021);return u((()=>{const a=(new Date).getFullYear();e.value=isNaN(a)&&!isNaN(Date.parse(a))?a:2021})),{currentYear:e}}},H=d();s("data-v-64ba4a41");const X={class:"copyright-container"},J=r("div",{class:"title syRegular"},[r("div",{class:"copyright-items"},"帮助"),r("div",{class:"copyright-items"},"隐私"),r("div",{class:"copyright-items"},"条款")],-1),N=r("i",null,"copyright",-1),T=r("span",{style:{"margin-top":"5px"}}," XXXXXXXXX ",-1);l();const L=H(((e,a,t,o,n,s)=>{const l=g("svg-icon");return c(),i("div",X,[J,r("span",null,[N,r(l,{"icon-class":"copyright",class:"icon"}),r("i",null,m(o.currentYear)+" 沪ICP备XXXXXXXX号",1)]),T])}));M.render=L,M.__scopeId="data-v-64ba4a41";const z=Object.assign(M,{install(e){e.component(M.name,M)}});const E=h({name:"WeChatLogin",setup(){const e=v();return{weChatLogin:()=>{const{redirect:a}=e.query,{origin:o,pathname:n}=window.location,s=a?`${o}${n}#/relation?redirect=${a}`:`${o}${n}#/relation`,l=Math.ceil(1e3*Math.random()),c=encodeURIComponent(decodeURIComponent(s)),i=`https://open.weixin.qq.com/connect/qrconnect?appid=${t}&redirect_uri=${c}&response_type=code&scope=snsapi_login&state=${l}#wechat_redirect`;window.open(i,"_blank")}}}}),F=d();s("data-v-591f88e4");const R={class:"third-login-contanier"};l();const U=F(((e,a,t,o,n,s)=>(c(),i("div",R,[r("i",{class:"icons iconfont icon-weixin",onClick:a[1]||(a[1]=(...a)=>e.weChatLogin&&e.weChatLogin(...a))})]))));E.render=U,E.__scopeId="data-v-591f88e4";const Y=h({name:"LoginPwd",setup(){const a=f(),t=v(),n=y(),s=p(),l=["blur","change"],c=w({country:"86",captcha:"",account:"",password:""}),i={account:[{required:!0,message:"请输入手机或邮箱账号",trigger:l}],password:[{required:!0,message:"请输入密码",trigger:l}],captcha:[{required:!0,message:"请输入校验码",trigger:l}]},r=p(""),d=p(!1),g=p(""),m=p(""),h=p(!1),b=x((()=>{const{captcha:e,account:a,password:t}=c;return d.value?!e||!a||!t:!a||!t}));function C(){const e=t.query;r.value=e.bindToken||""}function I(){return e(this,null,(function*(){}))}return u((()=>{C()})),{trigger:l,ruleForm:s,formState:c,rules:i,bindToken:r,showCaptcha:d,captchaImg:g,captchaId:m,loading:h,disabledLogin:b,getQueryParams:C,updateImage:I,loginHandle:function(){h.value=!0,s.value.validate((t=>e(this,null,(function*(){if(t)try{const e={username:c.account,password:c.password};d.value&&(e.captchaId=m.value,e.captchaValue=c.captcha);let{data:t}=yield o({params:e});const{token:s}=t;yield n.dispatch("user/saveToken",{token:s}),a.push("/")}catch(e){}finally{h.value=!1,d.value&&(yield I())}}))))},freeLogin:function(){return e(this,null,(function*(){h.value=!0;try{yield n.dispatch("user/saveToken",{token:"token"}),a.push("/")}catch(e){}finally{h.value=!1}}))}}}}),O=d();s("data-v-cfb837e0");const P={style:{position:"relative"}},D={class:"code-inp"},B={class:"code"},S=V(" 快速登录 "),j=V(" 免登录 ");l();const G=O(((e,a,t,o,n,s)=>{const l=g("el-input"),d=g("el-form-item"),p=g("el-button"),u=g("el-form");return c(),i(u,{ref:"ruleForm",model:e.formState,rules:e.rules,"label-width":"0","status-icon":"",class:"login-ruleForm"},{default:O((()=>[r(d,{prop:"account"},{default:O((()=>[r(l,{ref:"account",modelValue:e.formState.account,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formState.account=a),name:"account",placeholder:"邮箱/手机",clearable:!0,tabindex:"1",type:"text",maxlength:"100",autocomplete:"off"},null,8,["modelValue"])])),_:1}),r(d,{prop:"password",class:""},{default:O((()=>[r(l,{ref:"password",modelValue:e.formState.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formState.password=a),"show-password":"",name:"password",placeholder:"请输入密码",clearable:!0,tabindex:"2",maxlength:"16",type:"password",autocomplete:"off",onKeyup:b(e.loginHandle,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),e.showCaptcha?(c(),i(d,{key:0,prop:"captcha",class:""},{default:O((()=>[r("div",P,[r("div",D,[r(l,{ref:"captcha",modelValue:e.formState.captcha,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formState.captcha=a),type:"text",name:"captcha",placeholder:"请输入校验码",clearable:!0,tabindex:"3",maxlength:"6",autocomplete:"off",onKeyup:b(e.loginHandle,["enter","native"])},null,8,["modelValue","onKeyup"])]),r("div",B,[r("img",{src:e.captchaImg,alt:"",onClick:a[4]||(a[4]=(...a)=>e.updateImage&&e.updateImage(...a))},null,8,["src"])])])])),_:1})):C("",!0),r(d,{class:"h40",style:{"margin-bottom":"0"}},{default:O((()=>[r(p,{loading:e.loading,disabled:e.disabledLogin,type:"primary",class:"h40",style:{width:"100%"},onClick:I(e.loginHandle,["prevent"])},{default:O((()=>[S])),_:1},8,["loading","disabled","onClick"]),r(p,{loading:e.loading,type:"text",class:"h40",style:{width:"100%"},onClick:I(e.freeLogin,["prevent"])},{default:O((()=>[j])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])}));Y.render=G,Y.__scopeId="data-v-cfb837e0";const W=d();s("data-v-9b24e76e");const _={class:"section-container login-container syNormal un-select"},Z={class:"body fix-width w380"},$={class:"top"},ee=r("div",{class:"top-title syRegular"},"账号密码登录",-1),ae={class:"main"},te=r("div",{class:"foot-link clearfix",style:{"margin-top":"10px"}},null,-1),oe={key:0,class:"foot-link syRegular"},ne=V("其他方式登录");l();const se={expose:[],setup(e){let a=p(!0);return u((()=>{a.value=!n(),(e=>{let a="";if(e)for(const t in e)e[t]&&(a=a?`${a}&${t}=${e[t]}`:`${t}=${e[t]}`)})()})),(e,t)=>{const o=g("el-divider");return c(),i("div",_,[r("div",Z,[r("div",$,[r(q,{class:"logos center mb10"}),ee]),r("div",ae,[r(Y),te,A(a)?(c(),i("div",oe,[r(o,{"content-position":"center"},{default:W((()=>[ne])),_:1}),r(E)])):C("",!0)])]),r(A(z))])}},__scopeId:"data-v-9b24e76e"};export default se;
