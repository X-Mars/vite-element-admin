var e=(e,a,t)=>new Promise(((n,l)=>{var r=e=>{try{s(t.next(e))}catch(a){l(a)}},i=e=>{try{s(t.throw(e))}catch(a){l(a)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,i);s((t=t.apply(e,a)).next())}));import{L as a}from"./index.f3301aa0.js";import{W as t}from"./webgl.658fede5.js";import{j as n,A as l,k as r,P as i,a7 as s,a8 as o,C as u,o as d,c as m,i as v,r as c,f as p,w as b,H as w,a as f}from"./vendor.71a11aaa.js";import{g as _}from"./index.35fc3a83.js";const g={class:"view-model-wrapper","element-loading-text":"模型加载中..."},y={props:{baseUrl:{type:String,request:!0,default:"/static/potree/data/test2/cloud.js"},name:{type:String,default:"point_cloud"},entryFile:{type:String,request:!0,default:"cloud.js"},activeAttributeName:{type:String,default:"rgba"}},setup(a){const c=a,p=n(!1),b=n(),w=n("");function f(e){if(!e)return!1;window.viewer=new Potree.Viewer(e),viewer.setEDLEnabled(!0),viewer.setFOV(60),viewer.setPointBudget(2e6),viewer.loadSettingsFromURL();const a=c.baseUrl+c.entryFile,t=c.name||"";Potree.loadPointCloud(a,t,(e=>{const a=viewer.scene,t=e.pointcloud,n=t.material;n.activeAttributeName=c.activeAttributeName,n.minSize=1,n.pointSizeType=Potree.PointSizeType.FIXED,a.addPointCloud(t)}))}return l((()=>e(this,null,(function*(){t.isWebGLAvailable()||(w.value=t.getWebGLErrorMessage().message);f(b.value)})))),r((()=>[c.baseUrl,c.name,c.entryFile,c.activeAttributeName]),(()=>{i((()=>{f(b.value)}))}),{deep:!0,immediate:!0}),s((()=>e(this,null,(function*(){})))),(e,a)=>{const t=o("loading");return u((d(),m("div",g,[v("div",{ref:(e,a)=>{a.modelWrapper=e,b.value=e},class:"model-wrapper"},null,512)],512)),[[t,p.value]])}},__scopeId:"data-v-07c41f85"};const h={class:"section-container"},P={setup(e){const t=n("transmission_case"),l=n('\n  Potree 是基于 WebGL 的开源大规模点云渲染器，其由维也纳工业大学计算机图形与算法研究中心（Institute of Computer Graphics and Algorithms, TU Wien）开发。\n  官网点击这里：<a href="http://www.potree.org/">前往</a>\n  PotreeConverter 点击这里：<a href="https://github.com/potree/PotreeConverter">前往</a>\n'),{envStr:r}=_(),i="/vite-element-plus-admin",s=n("/static/potree/data/transmission_case/"),o=n("transmission_case"),u=n("cloud.js"),m=n("rgba");function g(e){s.value="/static/potree/data/"+e.paneName+"/","dev"!=r&&(s.value=i+s.value),o.value=e.paneName,console.log("handleClick",r,s.value)}return"dev"!=r&&(s.value=i+s.value),console.log("env",r,s.value),(e,n)=>{const r=c("el-tab-pane"),i=c("el-tabs");return d(),p(w(a),{title:"点云渲染器",subtitle:l.value},{body:b((()=>[v("div",h,[f(i,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),onTabClick:g},{default:b((()=>[f(r,{label:"双离合变速箱",name:"transmission_case"}),f(r,{label:"金翅鸟和毗湿奴",name:"winged_bird"}),f(r,{label:"lion_takanawa_normals",name:"lion_takanawa_normals"}),f(r,{label:"lion_takanawa_las",name:"lion_takanawa_las"}),f(r,{label:"lion_takanawa_laz",name:"lion_takanawa_laz"})])),_:1},8,["modelValue"]),f(y,{baseUrl:s.value,entryFile:u.value,name:o.value,activeAttributeName:m.value},null,8,["baseUrl","entryFile","name","activeAttributeName"])])])),_:1},8,["subtitle"])}},__scopeId:"data-v-2af0d702"};export default P;
