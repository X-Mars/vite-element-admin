var e=(e,a,t)=>new Promise(((n,r)=>{var l=e=>{try{s(t.next(e))}catch(a){r(a)}},i=e=>{try{s(t.throw(e))}catch(a){r(a)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,i);s((t=t.apply(e,a)).next())}));import{L as a}from"./index.f3301aa0.js";import{W as t}from"./webgl.658fede5.js";import{j as n,A as r,k as l,P as i,a7 as s,a8 as o,C as u,o as d,c as m,i as c,r as v,f as p,w as b,H as w,a as f}from"./vendor.71a11aaa.js";import{g as _}from"./index.b4e1e4da.js";const g={class:"view-model-wrapper","element-loading-text":"模型加载中..."},y={props:{baseUrl:{type:String,request:!0,default:"/static/potree/data/test2/cloud.js"},name:{type:String,default:"point_cloud"},entryFile:{type:String,request:!0,default:"cloud.js"},activeAttributeName:{type:String,default:"rgba"}},setup(a){const v=a,p=n(!1),b=n(),w=n("");function f(e){if(!e)return!1;window.viewer=new Potree.Viewer(e),viewer.setEDLEnabled(!0),viewer.setFOV(60),viewer.setPointBudget(2e6),viewer.loadSettingsFromURL();const a=v.baseUrl+v.entryFile,t=v.name||"";Potree.loadPointCloud(a,t,(e=>{const a=viewer.scene,t=e.pointcloud,n=t.material;n.activeAttributeName=v.activeAttributeName,n.minSize=1,n.pointSizeType=Potree.PointSizeType.FIXED,a.addPointCloud(t)}))}return r((()=>e(this,null,(function*(){t.isWebGLAvailable()||(w.value=t.getWebGLErrorMessage().message);f(b.value)})))),l((()=>[v.baseUrl,v.name,v.entryFile,v.activeAttributeName]),(()=>{i((()=>{f(b.value)}))}),{deep:!0,immediate:!0}),s((()=>e(this,null,(function*(){})))),(e,a)=>{const t=o("loading");return u((d(),m("div",g,[c("div",{ref:(e,a)=>{a.modelWrapper=e,b.value=e},class:"model-wrapper"},null,512)],512)),[[t,p.value]])}},__scopeId:"data-v-1a47ebe3"};const h={class:"section-container"},P={setup(e){const t=n("transmission_case"),r=n('\n  Potree 是基于 WebGL 的开源大规模点云渲染器，其由维也纳工业大学计算机图形与算法研究中心（Institute of Computer Graphics and Algorithms, TU Wien）开发。\n  官网点击这里：<a href="http://www.potree.org/">前往</a>\n  PotreeConverter 点击这里：<a href="https://github.com/potree/PotreeConverter">前往</a>\n'),l=n("/static/potree/data/transmission_case/"),i=n("transmission_case"),s=n("cloud.js"),o=n("rgba");function u(e){const a="/static/potree/data/"+e.paneName+"/";l.value=m(a),i.value=e.paneName}function m(e){const{envStr:a}=_();return"dev"!=a?"/vite-element-plus-admin/dist"+e:e}return l.value=m(l.value),(e,n)=>{const m=v("el-tab-pane"),_=v("el-tabs");return d(),p(w(a),{title:"点云渲染器",subtitle:r.value},{body:b((()=>[c("div",h,[f(_,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),onTabClick:u},{default:b((()=>[f(m,{label:"双离合变速箱",name:"transmission_case"}),f(m,{label:"金翅鸟和毗湿奴",name:"winged_bird"}),f(m,{label:"lion_takanawa_normals",name:"lion_takanawa_normals"}),f(m,{label:"lion_takanawa_las",name:"lion_takanawa_las"}),f(m,{label:"lion_takanawa_laz",name:"lion_takanawa_laz"})])),_:1},8,["modelValue"]),f(y,{baseUrl:l.value,entryFile:s.value,name:i.value,activeAttributeName:o.value},null,8,["baseUrl","entryFile","name","activeAttributeName"])])])),_:1},8,["subtitle"])}},__scopeId:"data-v-337619ef"};export default P;
