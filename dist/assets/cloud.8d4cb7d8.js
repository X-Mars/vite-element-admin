var e=(e,a,t)=>new Promise(((l,n)=>{var r=e=>{try{s(t.next(e))}catch(a){n(a)}},i=e=>{try{s(t.throw(e))}catch(a){n(a)}},s=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,i);s((t=t.apply(e,a)).next())}));import{L as a}from"./index.f3301aa0.js";import{W as t}from"./webgl.658fede5.js";import{j as l,A as n,k as r,P as i,a7 as s,a8 as o,C as u,o as d,c as m,i as c,r as v,f as p,w as b,H as w,a as _}from"./vendor.71a11aaa.js";import{g as f}from"./index.b3d949ba.js";const g={class:"view-model-wrapper","element-loading-text":"模型加载中..."},y={props:{baseUrl:{type:String,request:!0,default:"/static/potree/data/test2/cloud.js"},name:{type:String,default:"point_cloud"},entryFile:{type:String,request:!0,default:"cloud.js"},activeAttributeName:{type:String,default:"rgba"}},setup(a){const v=a,p=l(!1),b=l(),w=l("");function _(e){if(!e)return!1;window.viewer=new Potree.Viewer(e),viewer.setEDLEnabled(!0),viewer.setFOV(60),viewer.setPointBudget(2e6),viewer.loadSettingsFromURL();const a=v.baseUrl+v.entryFile,t=v.name||"";Potree.loadPointCloud(a,t,(e=>{const a=viewer.scene,t=e.pointcloud,l=t.material;l.activeAttributeName=v.activeAttributeName,l.minSize=1,l.pointSizeType=Potree.PointSizeType.FIXED,a.addPointCloud(t)}))}return n((()=>e(this,null,(function*(){t.isWebGLAvailable()||(w.value=t.getWebGLErrorMessage().message);_(b.value)})))),r((()=>[v.baseUrl,v.name,v.entryFile,v.activeAttributeName]),(()=>{i((()=>{_(b.value)}))}),{deep:!0,immediate:!0}),s((()=>e(this,null,(function*(){})))),(e,a)=>{const t=o("loading");return u((d(),m("div",g,[c("div",{ref:(e,a)=>{a.modelWrapper=e,b.value=e},class:"model-wrapper"},null,512)],512)),[[t,p.value]])}},__scopeId:"data-v-07c41f85"};const h={class:"section-container"},P={setup(e){const t=l("transmission_case"),n=l('\n  Potree 是基于 WebGL 的开源大规模点云渲染器，其由维也纳工业大学计算机图形与算法研究中心（Institute of Computer Graphics and Algorithms, TU Wien）开发。\n  官网点击这里：<a href="http://www.potree.org/">前往</a>\n  PotreeConverter 点击这里：<a href="https://github.com/potree/PotreeConverter">前往</a>\n'),r=f(),i="/vite-element-plus-admin",s=l("/static/potree/data/transmission_case/"),o=l("transmission_case"),u=l("cloud.js"),m=l("rgba");function g(e){s.value="/static/potree/data/"+e.paneName+"/","dev"==r&&(s.value=i+s.value),o.value=e.paneName,console.log("handleClick",r,s.value)}return"dev"==r&&(s.value=i+s.value),console.log("env",r,s.value),(e,l)=>{const r=v("el-tab-pane"),i=v("el-tabs");return d(),p(w(a),{title:"点云渲染器",subtitle:n.value},{body:b((()=>[c("div",h,[_(i,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),onTabClick:g},{default:b((()=>[_(r,{label:"双离合变速箱",name:"transmission_case"}),_(r,{label:"金翅鸟和毗湿奴",name:"winged_bird"}),_(r,{label:"lion_takanawa_normals",name:"lion_takanawa_normals"}),_(r,{label:"lion_takanawa_las",name:"lion_takanawa_las"}),_(r,{label:"lion_takanawa_laz",name:"lion_takanawa_laz"})])),_:1},8,["modelValue"]),_(y,{baseUrl:s.value,entryFile:u.value,name:o.value,activeAttributeName:m.value},null,8,["baseUrl","entryFile","name","activeAttributeName"])])])),_:1},8,["subtitle"])}},__scopeId:"data-v-60e3c91b"};export default P;
